(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{e:()=>b});const t=document.querySelector(".locations__form"),n=document.querySelector(".locations__input"),o=document.querySelector(".info__temp"),i=document.querySelector(".info__name"),s=document.querySelector(".info__favorit-img"),c=document.querySelector(".locations__list"),r=document.querySelector(".locations__prev"),a=document.querySelector(".info__status"),l=document.querySelector(".info__feels-like"),m=document.querySelector(".info__btn"),u=document.querySelector(".info"),d=document.querySelector(".info__top"),_=document.querySelector(".info__bottom"),f=document.querySelector(".info__start-message");function p(e){return b.findIndex((t=>t.cityName===e))}function v(e){return e.split(" ").map((e=>e[0].toUpperCase()+e.slice(1))).join(" ")}const b=[];t.addEventListener("submit",(function(e){e.preventDefault();const t=n.value;n.value="",n.blur(),fetch(`http://api.openweathermap.org/data/2.5/weather?q=${t}&appid=f660a2fb1e4bad108d6160b7f58c555f`).then((e=>e.json())).then((e=>function(e){const t=e.name,{temp:n}=e.main,s=e.main.feels_like,{description:c}=e.weather[0],r=(n-273.5).toFixed(1),p=(s-273.5).toFixed(1);m.classList.remove("is-hidden"),u.classList.remove("info--start"),d.classList.remove("is-hidden"),_.classList.remove("is-hidden"),f.remove(),i.textContent=t,o.textContent=`${r} 째C`,l.textContent=`Feels like: ${p} 째C`,a.textContent=v(c),b.push({cityName:t,temp:n,description:c,feelsLike:s,isFavorite:!1})}(e)))})),s.addEventListener("click",(function(){const{cityName:e}=b[b.length-1],t=p(e),{isFavorite:n}=b[t];if(b[t].isFavorite=!0,b.length<1||n)console.error("Choose city or it was added");else{const t=`\n    <li class="locations__item">\n      <button class="locations__btn btn-reset">${e}</button>\n      <button class="locations__remove-btn btn-reset">\n        <img\n          src="img/icons/cross.png"\n          alt=""\n          class="locations__remove-img"\n        />\n      </button>\n    </li>\n    `;r.remove(),c.insertAdjacentHTML("afterbegin",t)}})),c.addEventListener("click",(function(e){if("locations__remove-img"===e.target.className){const t=e.target,n=t.closest(".locations__item"),o=p(t.parentElement.previousElementSibling.textContent);n.remove(),b.splice(o,1)}})),c.addEventListener("click",(function(e){if("locations__btn btn-reset"===e.target.className){const t=p(e.target.textContent),n=(b[t].temp-273.5).toFixed(1),s=v(b[t].description),c=(b[t].feelsLike-273.5).toFixed(1);o.textContent=`${n} 째C`,i.textContent=b[t].cityName,a.textContent=s,l.textContent=`Feels like: ${c} 째C`}}))})();