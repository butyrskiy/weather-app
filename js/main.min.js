(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{e:()=>l});const e=document.querySelector(".locations__form"),n=document.querySelector(".locations__input"),o=document.querySelector(".info__temp"),i=document.querySelector(".info__name"),c=document.querySelector(".info__favorit-img"),a=document.querySelector(".locations__list"),r=document.querySelector(".locations__prev");function s(t){return l.findIndex((e=>e.cityName===t))}const l=[];e.addEventListener("submit",(function(t){t.preventDefault();const e=n.value;n.value="",n.blur(),fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&appid=f660a2fb1e4bad108d6160b7f58c555f`).then((t=>t.json())).then((t=>function(t){const e=t.name,{temp:n}=t.main,c=(n-273.5).toFixed(1);o.textContent=`${c} °C`,i.textContent=e,l.push({cityName:t.name,temp:t.main.temp,isFavorite:!1})}(t)))})),c.addEventListener("click",(function(){const{cityName:t}=l[l.length-1],e=s(t),{isFavorite:n}=l[e];if(l[e].isFavorite=!0,l.length<1||n)console.error("Choose city or it was added");else{const e=`\n    <li class="locations__item">\n      <button class="locations__btn btn-reset">${t}</button>\n      <button class="locations__remove-btn btn-reset">\n        <img\n          src="img/icons/cross.png"\n          alt=""\n          class="locations__remove-img"\n        />\n      </button>\n    </li>\n    `;r.remove(),a.insertAdjacentHTML("afterbegin",e)}})),a.addEventListener("click",(function(t){if("locations__remove-img"===t.target.className){const e=t.target,n=e.closest(".locations__item"),o=s(e.parentElement.previousElementSibling.textContent);n.remove(),l.splice(o,1)}})),a.addEventListener("click",(function(t){if("locations__btn btn-reset"===t.target.className){const e=s(t.target.textContent),n=(l[e].temp-273.5).toFixed(1);o.textContent=`${n} °C`,i.textContent=l[e].cityName}}))})();